---
import type { ImageAsset } from '../types';

/**
 * HeroSection
 * 頁面頂部主視覺橫幅
 */
export interface Props {
  /** 圖片資源（含桌面版/手機版） */
  image: ImageAsset;
  /** 是否顯示暗色疊加層 @default false */
  overlay?: boolean;
  /** 高度模式 @default 'auto' */
  height?: 'full' | 'auto';
}

const { image, overlay = false, height = 'auto' } = Astro.props;
---

<!-- Vitesse Style: Clean hero, minimal overlay -->
<section class:list={[
  'relative w-full overflow-hidden',
  height === 'full' && 'h-screen min-h-[600px]'
]}>
  <picture class:list={[
    'block w-full bg-[var(--bg-tertiary)]',
    overlay && 'absolute inset-0'
  ]}>
    <source media="(min-width: 768px)" srcset={image.desktop} />
    <source media="(max-width: 767px)" srcset={image.mobile} />
    <img
      src={image.desktop}
      alt={image.alt}
      class="block w-full h-auto"
      loading="eager"
      decoding="async"
    />
  </picture>
  {overlay && (
    <div class="absolute inset-0 bg-black/30 pointer-events-none"></div>
  )}
  <slot />
</section>
